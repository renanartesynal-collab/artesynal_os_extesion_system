<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema OS - Comunicação Visual</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --black: #231f20;
            --red: #ed1c24;
            --blue: #00aeef;
            --green: #00a651;
            --gray: #e6e7e8;
            --border-radius: 6px;
        }

        /* RESET GERAL */
        body { 
            font-family: 'Montserrat', sans-serif; 
            margin: 0; padding: 0;
            background: #333; display: flex;
            user-select: none; /* Evita selecionar texto ao arrastar imagens */
        }
        
        /* --- PAINEL DE CONTROLE (ESQUERDA) --- */
        #painel-controle { 
            width: 380px; padding: 25px; background: #2c3e50; color: white;
            height: 100vh; overflow-y: auto; box-sizing: border-box; position: fixed;
            border-right: 5px solid #1a252f; z-index: 10;
        }
        
        #painel-controle::-webkit-scrollbar { width: 8px; }
        #painel-controle::-webkit-scrollbar-track { background: #1a252f; }
        #painel-controle::-webkit-scrollbar-thumb { background: #f1c40f; border-radius: 4px; }

        .grupo-input { margin-bottom: 15px; }
        .titulo-secao { color: #f1c40f; font-weight: bold; margin-top: 20px; border-bottom: 1px solid #555; padding-bottom: 5px; margin-bottom: 10px;}
        label { display: block; font-size: 12px; margin-bottom: 5px; color: #bdc3c7; }
        
        input[type="text"], input[type="date"], input[type="number"], select { 
            width: 100%; padding: 10px; border-radius: 6px; border: none; 
            box-sizing: border-box; font-family: 'Montserrat', sans-serif; font-weight: bold;
            background: #34495e; color: white;
        }
        input:focus, textarea:focus { outline: 2px solid #f1c40f; background: #405569; }

        textarea {
            width: 100%; padding: 10px; border-radius: 6px; border: none; 
            box-sizing: border-box; font-family: 'Montserrat', sans-serif; 
            height: 80px; resize: none; background: #34495e; color: white;
        }
        
        .check-group { display: flex; flex-direction: column; gap: 8px; }
        .check-item { display: flex; align-items: center; gap: 10px; cursor: pointer; }
        .check-item input { transform: scale(1.2); accent-color: #f1c40f; }

        /* --- ÁREA DE IMPRESSÃO (DIREITA) --- */
        #area-impressao { 
            margin-left: 380px; display: flex; justify-content: center; 
            padding: 40px; width: calc(100% - 380px); 
            background: #555; min-height: 100vh; box-sizing: border-box;
        }
        
        .folha-a4 {
            width: 210mm; height: 296mm; 
            background: white; position: relative; 
            padding: 10mm; box-sizing: border-box;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            display: flex; flex-direction: column;
        }

        /* --- ESTRUTURA DO MODELO --- */
        .header-top { 
            background: var(--black); color: white; padding: 8px 12px; 
            font-weight: 900; font-size: 22px; text-transform: uppercase; 
            border-radius: var(--border-radius);
            margin-bottom: 4px;
            -webkit-print-color-adjust: exact; print-color-adjust: exact;
        }
        
        .linha-dados { display: flex; border: 1px solid #ddd; margin-bottom: 4px; border-radius: var(--border-radius); overflow: hidden; }
        .col { padding: 6px 10px; border-right: 1px solid #ddd; font-size: 12px; display: flex; align-items: center; }
        .col:last-child { border-right: none; }
        
        .label-simple { font-weight: 900; margin-right: 5px; color: #555; text-transform: uppercase; font-size: 10px; letter-spacing: 0.5px;}

        .area-intermediaria { display: flex; gap: 4px; height: 40px; margin-bottom: 6px;}
        
        .box-pagamento { 
            flex: 1.8; display: flex; align-items: center; padding-left: 15px; 
            font-weight: 900; font-size: 14px; background: #eee;
            border-radius: var(--border-radius);
            border: 1px solid #ddd;
            -webkit-print-color-adjust: exact; print-color-adjust: exact;
        }

        .box-datas { flex: 1.2; display: flex; border: 1px solid #ddd; border-radius: var(--border-radius); overflow: hidden; }
        .data-item { flex: 1; border-left: 1px solid #ddd; display: flex; flex-direction: column; }
        .data-item:first-child { border-left: none; }
        .data-header { 
            background: #666; color: white; font-size: 9px; text-align: center; 
            padding: 3px; font-weight: bold; text-transform: uppercase;
            -webkit-print-color-adjust: exact; print-color-adjust: exact;
        }
        .data-valor { 
            text-align: center; font-weight: 900; color: var(--red); 
            font-size: 13px; display: flex; align-items: center; justify-content: center; height: 100%; 
        }

        .area-inferior { 
            display: flex; justify-content: space-between; 
            margin-top: 5px; border-bottom: 2px dotted #ccc; 
            padding-bottom: 10px; align-items: flex-end;
        }
        
        .badges-wrapper { display: flex; gap: 6px; align-items: center; }
        .badge-box { 
            display: flex; width: 60px; height: 26px; 
            border: 1px solid #ccc; border-radius: 13px; overflow: hidden; 
            box-shadow: 1px 1px 0px rgba(0,0,0,0.1);
        }
        .badge-letra { 
            width: 24px; display: flex; align-items: center; justify-content: center; 
            color: white; font-weight: 900; font-size: 14px; 
            -webkit-print-color-adjust: exact; print-color-adjust: exact;
        }
        .badge-x { flex: 1; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 16px; color: var(--black); background: white; }
        
        .bg-red { background: var(--red); border-color: var(--red); }
        .bg-blue { background: var(--blue); border-color: var(--blue); }
        .bg-green { background: var(--green); border-color: var(--green); }

        .maq-cartao { 
            margin-left: 12px; background: var(--red); color: white; 
            font-weight: 900; font-size: 10px; padding: 4px 8px; 
            display: flex; align-items: center; gap: 6px; height: 20px;
            border-radius: 4px;
            -webkit-print-color-adjust: exact; print-color-adjust: exact;
        }
        .box-check-maq { width: 14px; height: 14px; background: white; border-radius: 2px; color: black; text-align: center; line-height: 14px; font-size: 12px; font-weight: 900;}

        .logistica-wrapper { width: 140px; font-size: 10px; font-weight: 900; }
        .logistica-header { 
            background: #555; color: white; text-align: center; padding: 2px; margin-bottom: 4px; 
            border-radius: 3px;
            -webkit-print-color-adjust: exact; print-color-adjust: exact;
        }
        .log-item { display: flex; align-items: center; margin-bottom: 3px; }
        .box-check-log { 
            width: 12px; height: 12px; border: 1px solid var(--black); 
            margin-right: 6px; display: flex; align-items: center; justify-content: center; 
            font-size: 8px; color: var(--red); line-height: 12px;
            border-radius: 50%;
        }

        .titulo-servico { text-align: center; color: var(--red); font-weight: 900; font-size: 22px; margin: 15px 0 10px 0; text-transform: uppercase; letter-spacing: 1px; }
        
        /* --- ÁREA DE IMAGENS INTERATIVA --- */
        .area-imagens { 
            flex-grow: 1; 
            border: 2px dashed #ccc; 
            border-radius: var(--border-radius);
            position: relative; 
            overflow: hidden; 
            margin-bottom: 10px;
            background-color: #fcfcfc;
            cursor: crosshair; /* Indica que pode colocar coisas */
        }
        
        /* Estilo da Imagem Arrastável */
        .draggable-img {
            position: absolute;
            cursor: move;
            transition: box-shadow 0.2s;
            /* Inicia com um tamanho padrão razoável */
            width: 200px; 
        }

        /* Classe para imagem selecionada */
        .img-selected {
            border: 2px solid var(--blue);
            box-shadow: 0 0 10px rgba(0, 174, 239, 0.5);
            z-index: 100; /* Traz para frente */
        }

        .placeholder-text { font-size: 18px; font-weight: 700; color: #ddd; position: absolute; z-index: 0; text-align: center; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events: none;}
        .instrucoes-overlay {
            position: absolute; bottom: 5px; right: 5px; 
            font-size: 10px; color: #999; background: rgba(255,255,255,0.8);
            padding: 2px 5px; border-radius: 4px; pointer-events: none; z-index: 5;
        }

        .area-desc-titulo { font-weight: 900; font-size: 11px; margin-bottom: 4px; color: #555; text-transform: uppercase;}
        .box-anotacoes { 
            height: 100px; border: 1px solid #ccc; border-radius: var(--border-radius);
            padding: 8px; font-size: 12px; font-family: 'Montserrat', sans-serif;
            white-space: pre-wrap; background: #fcfcfc;
        }

        .btn-print { width:100%; padding: 15px; background: var(--green); color:white; border:none; font-weight:900; cursor:pointer; border-radius:6px; font-size: 16px; margin-top: 10px; box-shadow: 0 4px 0 #007f3d; transition: all 0.2s;}
        .btn-print:hover { background: #008f45; transform: translateY(2px); box-shadow: 0 2px 0 #007f3d;}

        .btn-save { width:100%; padding: 15px; background: var(--blue); color:white; border:none; font-weight:900; cursor:pointer; border-radius:6px; font-size: 16px; margin-top: 20px; box-shadow: 0 4px 0 #007db0; transition: all 0.2s;}
        .btn-save:hover { background: #009ad6; transform: translateY(2px); box-shadow: 0 2px 0 #007db0;}

        @page { size: A4; margin: 0; }

        @media print {
            body { background: white; margin: 0; padding: 0;}
            #painel-controle { display: none; }
            #area-impressao { 
                margin: 0; padding: 0; width: 100%; height: 100vh; 
                background: none; display: block;
            }
            .folha-a4 { 
                box-shadow: none; padding: 10mm; margin: 0 auto; 
                width: 210mm; height: 296mm; page-break-after: always; border: none;
            }
            .area-imagens { border: 1px dashed #ccc; }
            .placeholder-text, .instrucoes-overlay { display: none; }
            .img-selected { border: none; box-shadow: none; } /* Remove borda azul na impressão */
        }
    </style>
</head>
<body>

    <div id="painel-controle">
        <h2 style="margin-top: 0; color: #f1c40f;">GERADOR DE O.S.</h2>

        <div class="grupo-input">
            <label>NOME DA EMPRESA</label>
            <input type="text" id="in-empresa" placeholder="Ex: Gráfica Rápida" value="SUA EMPRESA AQUI">
        </div>

        <div class="titulo-secao">DADOS DO CLIENTE</div>
        <div class="grupo-input">
            <label>NOME DO CLIENTE</label>
            <input type="text" id="in-cliente">
        </div>
        <div class="grupo-input">
            <label>TELEFONE</label>
            <input type="text" id="in-tel" placeholder="(00) 00000-0000">
        </div>
        <div class="grupo-input">
            <label>ENDEREÇO</label>
            <input type="text" id="in-end">
        </div>

        <div class="titulo-secao">FINANCEIRO & DATAS</div>
        <div style="display: flex; gap: 10px;">
            <div class="grupo-input" style="flex:1;">
                <label>Nº OS</label>
                <input type="text" id="in-os" placeholder="0000">
            </div>
            <div class="grupo-input" style="flex:2;">
                <label>VALOR RESTANTE</label>
                <input type="text" id="in-pag" placeholder="R$ 0,00">
            </div>
        </div>

        <div style="display: flex; gap: 10px;">
            <div class="grupo-input">
                <label>APROVAÇÃO</label>
                <input type="text" id="in-data-aprov" placeholder="00/00">
            </div>
            <div class="grupo-input">
                <label>DATA LIMITE</label>
                <input type="text" id="in-data-limite" placeholder="00/00">
            </div>
        </div>

        <div class="check-group">
            <label class="check-item"><input type="checkbox" id="chk-entrada"> ENTRADA (E)</label>
            <label class="check-item"><input type="checkbox" id="chk-faturado"> FATURADO (F)</label>
            <label class="check-item"><input type="checkbox" id="chk-pago"> PAGO (P)</label>
            <label class="check-item"><input type="checkbox" id="chk-maq"> MÁQUINA DE CARTÃO</label>
        </div>

        <div class="titulo-secao">LOGÍSTICA</div>
        <div class="check-group">
            <label class="check-item"><input type="checkbox" id="chk-inst"> INSTALAÇÃO</label>
            <label class="check-item"><input type="checkbox" id="chk-ent"> ENTREGA</label>
            <label class="check-item"><input type="checkbox" id="chk-ret"> RETIRADA</label>
        </div>

        <div class="titulo-secao">SERVIÇO E IMAGEM</div>
        <div class="grupo-input">
            <label>TÍTULO DO SERVIÇO</label>
            <input type="text" id="in-servico">
        </div>
        
        <div class="grupo-input">
            <label style="color: #f1c40f; font-weight: bold;">ADICIONAR IMAGENS (Máx 6)</label>
            <input type="file" accept="image/*" multiple onchange="adicionarImagens(event)">
            <label style="font-size: 10px; margin-top: 5px;">*Arraste para mover. Clique + Scroll para zoom. 2x Clique apagar.</label>
        </div>

        <div class="grupo-input" style="margin-top: 15px;">
            <label>DESCRIÇÃO DO SERVIÇO / OBS</label>
            <textarea id="in-desc" placeholder="Detalhes de material, acabamento..."></textarea>
        </div>

        <button id="btn-salvar" class="btn-save">SALVAR NO SISTEMA</button>
        <button class="btn-print" onclick="window.print()">IMPRIMIR / PDF</button>
        <br><br>
    </div>

    <div id="area-impressao">
        <div class="folha-a4">
            <div class="header-top" id="out-empresa">NOME DA EMPRESA</div>
            
            <div class="linha-dados">
                <div class="col" style="flex: 2;"><span class="label-simple">Cliente</span> <span id="out-cliente"></span></div>
                <div class="col" style="flex: 1; background: #666; color: white; font-weight: bold; -webkit-print-color-adjust: exact; print-color-adjust: exact;"><span style="margin-right: 5px;">Tel:</span> <span id="out-tel" style="font-weight: 400;"></span></div>
                <div class="col" style="flex: 0.5; justify-content: center; font-weight: 900; font-size: 16px;">OS <span id="out-os" style="margin-left: 10px; color: var(--red);">0000</span></div>
            </div>
            
            <div class="linha-dados">
                <div class="col" style="width: 100%;"><span class="label-simple">Endereço</span> <span id="out-end"></span></div>
            </div>
            
            <div class="area-intermediaria">
                <div class="box-pagamento">
                    RESTANTE A PAGAR: <span id="out-pag" style="margin-left: 8px; color: var(--red);">R$ 0,00</span>
                </div>
                <div class="box-datas">
                    <div class="data-item">
                        <div class="data-header">Aprovação</div>
                        <div class="data-valor" style="color: black;" id="out-data-aprov">00/00</div>
                    </div>
                    <div class="data-item">
                        <div class="data-header" style="background: var(--red);">ENTREGA</div>
                        <div class="data-valor" id="out-data-limite">00/00</div>
                    </div>
                </div>
            </div>
            
            <div class="area-inferior">
                <div style="display: flex; align-items: center;">
                    <div class="badges-wrapper">
                        <div class="badge-box bg-red">
                            <div class="badge-letra">E</div>
                            <div class="badge-x" id="x-entrada"></div>
                        </div>
                        <div class="badge-box bg-blue">
                            <div class="badge-letra">F</div>
                            <div class="badge-x" id="x-faturado" style="color: var(--blue);"></div>
                        </div>
                        <div class="badge-box bg-green">
                            <div class="badge-letra">P</div>
                            <div class="badge-x" id="x-pago" style="color: var(--green);"></div>
                        </div>
                    </div>
                    <div class="maq-cartao">
                        MÁQ. CARTÃO
                        <div class="box-check-maq" id="x-maq"></div>
                    </div>
                </div>
                <div class="logistica-wrapper">
                    <div class="logistica-header">LOGÍSTICA</div>
                    <div class="log-item">
                        <div class="box-check-log" id="x-inst"></div> INSTALAÇÃO
                    </div>
                    <div class="log-item">
                        <div class="box-check-log" id="x-ent"></div> ENTREGA
                    </div>
                    <div class="log-item">
                        <div class="box-check-log" id="x-ret"></div> RETIRADA
                    </div>
                </div>
            </div>
            
            <div class="titulo-servico" id="out-servico">NOME DO SERVIÇO</div>
            
            <div class="area-imagens" id="canvas-imagens">
                <span class="placeholder-text" id="placeholder-text">ARRASTE AS IMAGENS<br>PARA ORGANIZAR</span>
                <div class="instrucoes-overlay">Scroll p/ Zoom | 2x Clique p/ Apagar</div>
            </div>
            
            <div class="area-desc-titulo">DESCRIÇÃO TÉCNICA / OBSERVAÇÕES:</div>
            <div class="box-anotacoes" id="out-desc"></div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBxG9GNxfJxWiw8hpreTeShrG009svRmPI",
            authDomain: "artesynal-os-system.firebaseapp.com",
            projectId: "artesynal-os-system",
            storageBucket: "artesynal-os-system.firebasestorage.app",
            messagingSenderId: "539958005846",
            appId: "1:539958005846:web:9120505e097b56bf16ebf7"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        async function salvarOS() {
            const btn = document.getElementById('btn-salvar');
            btn.innerText = "Salvando...";
            btn.disabled = true;

            try {
                // NOTA: No momento salvamos apenas o texto, as imagens do canvas
                // não estão indo pro banco pois exigiria o Firebase Storage.
                // Mas para gerar PDF/Imprimir funciona perfeito.
                
                const dados = {
                    empresa: document.getElementById('in-empresa').value,
                    cliente: document.getElementById('in-cliente').value,
                    telefone: document.getElementById('in-tel').value,
                    endereco: document.getElementById('in-end').value,
                    os_numero: document.getElementById('in-os').value,
                    valor_restante: document.getElementById('in-pag').value,
                    data_aprovacao: document.getElementById('in-data-aprov').value,
                    data_limite: document.getElementById('in-data-limite').value,
                    servico_titulo: document.getElementById('in-servico').value,
                    descricao: document.getElementById('in-desc').value,
                    status: {
                        entrada: document.getElementById('chk-entrada').checked,
                        faturado: document.getElementById('chk-faturado').checked,
                        pago: document.getElementById('chk-pago').checked,
                        maquina: document.getElementById('chk-maq').checked
                    },
                    logistica: {
                        instalacao: document.getElementById('chk-inst').checked,
                        entrega: document.getElementById('chk-ent').checked,
                        retirada: document.getElementById('chk-ret').checked
                    },
                    data_criacao: new Date()
                };

                const docRef = await addDoc(collection(db, "ordens_servico"), dados);
                alert("OS Salva com sucesso! ID: " + docRef.id);
                btn.innerText = "SALVAR NO SISTEMA";
                btn.disabled = false;
            } catch (e) {
                console.error("Erro ao salvar: ", e);
                alert("Erro ao salvar. Verifique se o banco de dados está criado no modo TESTE.");
                btn.innerText = "ERRO AO SALVAR";
                btn.disabled = false;
            }
        }
        document.getElementById('btn-salvar').addEventListener('click', salvarOS);
    </script>

    <script>
        // Atualização dos textos e checkboxes
        const inputs = document.querySelectorAll('input, textarea');
        inputs.forEach(input => {
            if(input.type !== 'file') {
                input.addEventListener('input', up);
                input.addEventListener('change', up);
            }
        });

        function up() {
            const setTxt = (idOut, idIn, def) => {
                const val = document.getElementById(idIn).value;
                document.getElementById(idOut).innerText = val || def || "";
            };

            setTxt('out-empresa', 'in-empresa', 'NOME DA EMPRESA');
            setTxt('out-cliente', 'in-cliente', '');
            setTxt('out-tel', 'in-tel', '');
            setTxt('out-os', 'in-os', '0000');
            setTxt('out-end', 'in-end', '');
            setTxt('out-pag', 'in-pag', 'R$ 0,00');
            setTxt('out-data-aprov', 'in-data-aprov', '00/00');
            setTxt('out-data-limite', 'in-data-limite', '00/00');
            setTxt('out-servico', 'in-servico', 'NOME DO SERVIÇO');
            setTxt('out-desc', 'in-desc', '');

            const setX = (idOut, idIn) => document.getElementById(idOut).innerText = document.getElementById(idIn).checked ? "X" : "";
            
            setX('x-entrada', 'chk-entrada');
            setX('x-faturado', 'chk-faturado');
            setX('x-pago', 'chk-pago');
            setX('x-inst', 'chk-inst');
            setX('x-ent', 'chk-ent');
            setX('x-ret', 'chk-ret');
            setX('x-maq', 'chk-maq');
        }

        // --- SISTEMA DE CANVAS DE IMAGENS ---
        const canvas = document.getElementById('canvas-imagens');
        let draggedImg = null;
        let startX, startY, initialLeft, initialTop;

        // 1. Adicionar Imagens
        window.adicionarImagens = function(event) {
            const files = event.target.files;
            if (!files) return;

            // Verificação de limite
            const atuais = document.querySelectorAll('.draggable-img').length;
            if (atuais + files.length > 6) {
                alert("Máximo de 6 imagens permitido.");
                return;
            }

            document.getElementById('placeholder-text').style.display = 'none';

            Array.from(files).forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.classList.add('draggable-img');
                    
                    // Posição inicial aleatória leve para não empilhar
                    img.style.left = (50 + Math.random() * 100) + 'px';
                    img.style.top = (50 + Math.random() * 100) + 'px';
                    
                    // Eventos da imagem
                    img.addEventListener('mousedown', startDrag);
                    img.addEventListener('click', selectImage);
                    img.addEventListener('dblclick', deleteImage);
                    img.addEventListener('wheel', resizeImage, { passive: false }); // Scroll para zoom
                    
                    canvas.appendChild(img);
                }
                reader.readAsDataURL(file);
            });
        }

        // 2. Selecionar Imagem (Borda Azul)
        function selectImage(e) {
            e.stopPropagation(); // Não propaga para o canvas
            // Remove seleção de outras
            document.querySelectorAll('.draggable-img').forEach(img => img.classList.remove('img-selected'));
            // Adiciona nesta
            e.target.classList.add('img-selected');
        }

        // Clicar fora remove a seleção
        canvas.addEventListener('click', () => {
             document.querySelectorAll('.draggable-img').forEach(img => img.classList.remove('img-selected'));
        });

        // 3. Deletar Imagem (Duplo Clique)
        function deleteImage(e) {
            e.target.remove();
            if (document.querySelectorAll('.draggable-img').length === 0) {
                document.getElementById('placeholder-text').style.display = 'block';
            }
        }

        // 4. Arrastar (Drag and Drop)
        function startDrag(e) {
            e.preventDefault();
            draggedImg = e.target;
            
            // Traz para frente
            selectImage(e); 

            startX = e.clientX;
            startY = e.clientY;
            initialLeft = draggedImg.offsetLeft;
            initialTop = draggedImg.offsetTop;

            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
        }

        function drag(e) {
            if (!draggedImg) return;
            const dx = e.clientX - startX;
            const dy = e.clientY - startY;

            draggedImg.style.left = `${initialLeft + dx}px`;
            draggedImg.style.top = `${initialTop + dy}px`;
        }

        function stopDrag() {
            draggedImg = null;
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
        }

        // 5. Redimensionar com Scroll
        function resizeImage(e) {
            e.preventDefault(); // Impede a página de rolar
            const scaleAmount = 10;
            let currentWidth = this.offsetWidth;
            
            if (e.deltaY < 0) {
                // Scroll para cima (Aumentar)
                this.style.width = (currentWidth + scaleAmount) + 'px';
            } else {
                // Scroll para baixo (Diminuir)
                if (currentWidth > 50) { // Tamanho mínimo
                    this.style.width = (currentWidth - scaleAmount) + 'px';
                }
            }
        }
    </script>
</body>
</html>
