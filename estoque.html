<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Materiais - Pro</title>
    <style>
        :root {
            --orange: #ff6b00;
            --dark-bg: #0a0a0a;
            --card-bg: #121212;
            --input-bg: #1a1a1a;
            --text-gray: #a0a0a0;
            --white: #ffffff;
            --red-cancel: #ff3b3b;
            --green-new: #22c55e;
            --blue-used: #3b82f6;
            --line-color: #ff6b00; /* Cor das linhas de cota */
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--dark-bg);
            color: var(--white);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        /* [CSS] REMOVER SETINHAS PADRÃO DOS INPUTS DE NÚMERO */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }

        /* [CSS] BOTÃO PRINCIPAL DA TELA (ADICIONAR MATERIAL) */
        .main-button {
            background-color: var(--orange);
            color: white;
            border: none;
            padding: 15px 30px;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            text-transform: uppercase;
            transition: transform 0.2s;
        }

        /* [CSS] FUNDO ESCURO DO MODAL (OVERLAY) */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none; 
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        /* [CSS] CAIXA CENTRAL DO MODAL */
        .modal-box {
            background: var(--card-bg);
            width: 95%;
            max-width: 500px;
            max-height: 90vh;
            padding: 25px;
            border-radius: 16px;
            border: 1px solid #333;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            overflow-y: auto;
            position: relative;
        }

        /* [CSS] BOTÃO DE VOLTAR NO TOPO DO MODAL */
        .btn-voltar-top {
            position: absolute;
            top: 25px;
            right: 25px;
            background: transparent;
            color: var(--red-cancel);
            border: 1px solid var(--red-cancel);
            padding: 5px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.2s;
        }

        /* [CSS] TÍTULO E BOTÃO DE STATUS (NOVO/USADO) */
        .header-row {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        .title-material {
            font-size: 32px;
            font-weight: 900;
            margin: 0;
            color: #fff;
            line-height: 1;
        }
        .btn-status-toggle {
            padding: 6px 12px;
            border-radius: 6px;
            border: none;
            font-weight: bold;
            font-size: 12px;
            cursor: pointer;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }
        .status-novo { background-color: var(--green-new); color: white; }
        .status-usado { background-color: var(--blue-used); color: white; }

        /* [CSS] ESTILO DAS LABELS E CAMPOS DE ENTRADA */
        .label-standard {
            display: block;
            font-size: 13px;
            color: var(--orange);
            font-weight: bold;
        }
        .sub-label-right {
            display: block;
            font-size: 12px;
            color: var(--text-gray);
            margin-bottom: 4px;
            text-align: right;
            width: 100%;
        }

        /* [CSS] BOTÕES DE AÇÃO COM ÍCONE (+) */
        .btn-icon-action {
            background: #222;
            color: var(--orange);
            border: 1px solid #444;
            width: 32px;
            height: 32px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        input, select {
            width: 100%;
            padding: 12px;
            background: var(--input-bg);
            border: 1px solid #333;
            border-radius: 8px;
            color: white;
            outline: none;
            font-size: 14px;
        }

        /* [CSS] SUFIXO "cm" NOS INPUTS DE MEDIDA */
        .input-suffix-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }
        .input-suffix-wrapper::after {
            content: "cm";
            position: absolute;
            right: 12px;
            color: var(--text-gray);
            font-size: 12px;
            pointer-events: none;
        }

        /* [CSS] ESTRUTURA DE LINHAS E COLUNAS DO FORMULÁRIO */
        .form-row { display: flex; gap: 12px; margin-bottom: 15px; }
        .align-bottom { align-items: flex-end; }
        .field-group { flex: 1; }

        /* [CSS] CONTAINER DA REFERÊNCIA VISUAL */
        #div-visual-corte {
            margin-top: 15px;
            padding: 20px;
            background: #000;
            border-radius: 8px;
            border: 1px solid #333;
            display: none;
            flex-direction: column;
            align-items: center;
        }
        .canvas-title {
            font-size: 10px;
            color: var(--orange);
            text-transform: uppercase;
            font-weight: bold;
            margin-bottom: 40px;
            letter-spacing: 1px;
            text-align: center;
            width: 100%;
        }
        .chapa-container {
            width: 100%;
            height: 180px;
            background: #080808;
            position: relative;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* [CSS] PEÇA E COTAS TÉCNICAS (COM RESPIRO) */
        #corte-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #corte-fill {
            background: var(--orange);
            border: 1px solid var(--white);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: white;
            font-weight: bold;
            text-align: center;
            padding: 5px;
        }

        /* [CSS] ESTILO DAS LINHAS DE COTA (LARANJA TÉCNICO) */
        .cota-label {
            position: absolute;
            color: var(--orange);
            font-size: 11px;
            font-weight: bold;
            white-space: nowrap;
        }

        /* Cota Superior (Medida Maior - Horizontal) */
        .cota-w-box {
            position: absolute;
            top: -35px;
            left: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .linha-cota-w {
            height: 1px;
            background-color: var(--orange);
            width: 100%;
            margin-top: 2px;
            position: relative;
        }
        .linha-cota-w::before, .linha-cota-w::after {
            content: '';
            position: absolute;
            top: -4px;
            width: 1px;
            height: 9px;
            background-color: var(--orange);
        }
        .linha-cota-w::before { left: 0; }
        .linha-cota-w::after { right: 0; }

        /* Cota Lateral (Medida Menor - Vertical) */
        .cota-h-box {
            position: absolute;
            left: -55px;
            top: 0;
            height: 100%;
            display: flex;
            flex-direction: row;
            align-items: center;
        }
        .linha-cota-h {
            width: 1px;
            background-color: var(--orange);
            height: 100%;
            margin-right: 5px;
            position: relative;
        }
        .linha-cota-h::before, .linha-cota-h::after {
            content: '';
            position: absolute;
            left: -4px;
            width: 9px;
            height: 1px;
            background-color: var(--orange);
        }
        .linha-cota-h::before { top: 0; }
        .linha-cota-h::after { bottom: 0; }

        /* [CSS] BOTÃO FINAL DE SALVAR */
        .btn-salvar {
            width: 100%;
            background: var(--orange);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-weight: 900;
            margin-top: 10px;
            cursor: pointer;
            font-size: 16px;
            text-transform: uppercase;
        }

        #log-area { margin-top: 20px; font-family: monospace; font-size: 12px; color: #4ade80; text-align: center; }
        .icon-refresh { width: 18px; height: 18px; fill: none; stroke: currentColor; stroke-width: 2.5; }
    </style>
</head>
<body>

    <!-- [ELEMENTO] Botão Principal de Adição -->
    <button class="main-button" onclick="abrirModalProd()">+ Adicionar Material</button>
    
    <!-- [ELEMENTO] Área de mensagens de log/sucesso -->
    <div id="log-area"></div>

    <!-- [MODAL] Janela de Cadastro de Material -->
    <div id="modal-prod" class="modal-overlay">
        <div class="modal-box">
            <!-- [ELEMENTO] Botão de fechar modal -->
            <button class="btn-voltar-top" onclick="fecharModal('modal-prod')">Voltar</button>

            <!-- [ELEMENTO] Cabeçalho com Título e Status Novo/Usado -->
            <div class="header-row">
                <h2 class="title-material">Material</h2>
                <button id="btn-status" class="btn-status-toggle status-novo" onclick="toggleStatus()">Novo</button>
            </div>
            
            <!-- [GRUPO] Matéria Prima e Acabamento -->
            <div class="form-row align-bottom">
                <div style="flex: 3;">
                    <div class="label-row" style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                        <label id="label-cat" class="label-standard">Matéria Prima</label>
                        <!-- [ELEMENTO] Botão para adicionar nova categoria customizada -->
                        <button class="btn-icon-action" id="btn-toggle-cat" onclick="ativarNovaCategoria()">+</button>
                    </div>
                    <div id="cat-container">
                        <!-- [ELEMENTO] Seleção da Matéria Prima -->
                        <select id="prod-cat" onchange="handleCategoryChange()">
                            <option value="">Selecione...</option>
                            <option value="acm">ACM</option>
                            <option value="pvc">PVC</option>
                            <option value="ps">PS</option>
                            <option value="acrilico">Acrílico</option>
                            <option value="mdf">MDF</option>
                            <option value="galvanizada">Galvanizada</option>
                            <option value="policarbonato">Policarbonato</option>
                            <option value="outros">Outros</option>
                        </select>
                    </div>
                </div>
                <div style="flex: 1.5;">
                    <!-- [ELEMENTO] Seleção do Acabamento -->
                    <label class="label-standard" style="margin-bottom: 8px; display: block;">Acabamento</label>
                    <select id="prod-acabamento">
                        <option value="">Selecione...</option>
                        <option value="brilho">Brilho</option>
                        <option value="fosco">Fosco</option>
                    </select>
                </div>
            </div>
            
            <!-- [GRUPO] Espessura e Cor -->
            <div class="form-row">
                <div class="field-group">
                    <div class="label-row" style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                        <label id="label-espessura" class="label-standard">Espessura</label>
                        <!-- [ELEMENTO] Botão para adicionar nova espessura customizada -->
                        <button class="btn-icon-action" id="btn-toggle-esp" onclick="ativarNovaEspessura()">+</button>
                    </div>
                    <div id="esp-container">
                        <!-- [ELEMENTO] Seleção da Espessura -->
                        <select id="prod-espessura">
                            <option value="">Selecione Matéria...</option>
                        </select>
                    </div>
                </div>

                <div class="field-group">
                    <div class="label-row" style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                        <label id="label-cor" class="label-standard">Cor</label>
                        <!-- [ELEMENTO] Botão para adicionar nova cor customizada -->
                        <button class="btn-icon-action" id="btn-toggle-cor" onclick="ativarNovaCor()">+</button>
                    </div>
                    <div id="cor-container">
                        <!-- [ELEMENTO] Seleção da Cor -->
                        <select id="prod-cor">
                            <option value="">Selecione...</option>
                            <option value="preto">Preto</option>
                            <option value="branco">Branco</option>
                            <option value="azul">Azul</option>
                            <option value="vermelho">Vermelho</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- [GRUPO] Dimensões (Exibido apenas para chapas) -->
            <div id="div-dims" style="display:none; background:#1a1a1a; padding:15px; border-radius:8px; margin-top:5px; border: 1px solid #333;">
                <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <label class="label-standard">Medida</label>
                    <!-- [ELEMENTO] Botão para navegar por medidas padrão de fábrica -->
                    <button id="btn-refresh-dims" class="btn-icon-action" onclick="alternarMedidaPadrao()" title="Navegar Medidas de Fábrica">
                        <svg class="icon-refresh" viewBox="0 0 24 24"><path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                    </button>
                </div>
                <div class="form-row" style="margin-bottom: 0;">
                    <div class="field-group">
                        <label class="sub-label-right">Largura</label>
                        <div class="input-suffix-wrapper">
                            <!-- [ELEMENTO] Campo de Largura -->
                            <input type="number" id="prod-dim-w" placeholder="0" oninput="atualizarPlanoCorte()">
                        </div>
                    </div>
                    <div class="field-group">
                        <label class="sub-label-right">Altura</label>
                        <div class="input-suffix-wrapper">
                            <!-- [ELEMENTO] Campo de Altura -->
                            <input type="number" id="prod-dim-h" placeholder="0" oninput="atualizarPlanoCorte()">
                        </div>
                    </div>
                </div>

                <!-- [ELEMENTO] Área de Referência Visual com Peça Horizontal e Cotas -->
                <div id="div-visual-corte">
                    <div class="canvas-title">APRECIAÇÃO DA REFERÊNCIA VISUAL</div>
                    <div class="chapa-container">
                        <div id="corte-wrapper">
                            <!-- [COTAS] Medida Maior (Sempre Horizontal) -->
                            <div class="cota-w-box">
                                <span class="cota-label" id="txt-cota-maior">0cm</span>
                                <div class="linha-cota-w"></div>
                            </div>
                            <!-- [COTAS] Medida Menor (Sempre Vertical) -->
                            <div class="cota-h-box">
                                <div class="linha-cota-h"></div>
                                <span class="cota-label" id="txt-cota-menor" style="writing-mode: vertical-lr; transform: rotate(180deg);">0cm</span>
                            </div>
                            <!-- [PEÇA] Representação visual da chapa -->
                            <div id="corte-fill"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- [GRUPO] Quantidade e Estoque Mínimo (Exibido para outros itens) -->
            <div id="div-qtd" style="margin-top:5px; display: none;">
                <div class="form-row">
                    <div class="field-group">
                        <label class="label-standard">Qtd Atual</label>
                        <!-- [ELEMENTO] Estoque Atual -->
                        <input type="number" id="prod-qtd" value="1">
                    </div>
                    <div class="field-group">
                        <label class="label-standard">Mínimo</label>
                        <!-- [ELEMENTO] Alerta de Estoque Mínimo -->
                        <input type="number" id="prod-min" value="0">
                    </div>
                </div>
            </div>

            <!-- [ELEMENTO] Botão Final de Cadastro -->
            <button class="btn-salvar" id="btn-salvar-final" onclick="salvarProduto()">SALVAR MATERIAL</button>
        </div>
    </div>

    <script>
        // Variáveis de controle de estado
        let materialStatus = "Novo";
        let isNewCategory = false;
        let indiceMedidaPadrao = 0;

        // Base de dados simulada para preenchimento automático
        const CONFIG_FABRICA = {
            'acm': { medidas: [{w: 122, h: 500}, {w: 152, h: 500}], espessuras: ['3mm', '4mm'] },
            'pvc': { medidas: [{w: 122, h: 244}], espessuras: ['2mm', '3mm', '5mm', '10mm', '20mm'] },
            'ps': { medidas: [{w: 100, h: 200}, {w: 120, h: 240}], espessuras: ['1mm', '2mm'] },
            'acrilico': { medidas: [{w: 100, h: 200}, {w: 120, h: 240}], espessuras: ['2mm', '3mm', '5mm', '10mm'] },
            'mdf': { medidas: [{w: 183, h: 275}], espessuras: ['3mm', '6mm', '15mm', '18mm'] },
            'galvanizada': { medidas: [{w: 120, h: 200}, {w: 120, h: 300}], espessuras: ['#28', '#26', '#24','#22','#20'] },
            'policarbonato': { medidas: [{w: 105, h: 600}, {w: 210, h: 600}], espessuras: ['4mm', '6mm', '10mm'] }
        };

        // Função para alternar entre material Novo ou Usado (Retalho)
        window.toggleStatus = () => {
            const btn = document.getElementById('btn-status');
            materialStatus = (materialStatus === "Novo") ? "Usado" : "Novo";
            btn.innerText = materialStatus;
            btn.className = `btn-status-toggle status-${materialStatus.toLowerCase()}`;
            if (materialStatus === "Novo") aplicarMedidasAutomaticas();
        };

        // Abre o modal e limpa os campos para um novo registro
        window.abrirModalProd = () => {
            document.getElementById('modal-prod').style.display = 'flex';
            resetarModal();
        };

        // Fecha o modal de cadastro
        window.fecharModal = (id) => {
            document.getElementById(id).style.display = 'none';
        };

        // Reseta todos os campos do formulário
        const resetarModal = () => {
            materialStatus = "Novo";
            document.getElementById('prod-cat').value = '';
            document.getElementById('prod-dim-w').value = '';
            document.getElementById('prod-dim-h').value = '';
            document.getElementById('div-dims').style.display = 'none';
            document.getElementById('div-qtd').style.display = 'none';
            document.getElementById('prod-espessura').innerHTML = '<option value="">Selecione Matéria...</option>';
            atualizarPlanoCorte();
        };

        // Gerencia a interface conforme a categoria (chapa vs item unitário)
        window.handleCategoryChange = () => {
            const cat = document.getElementById('prod-cat').value.toLowerCase();
            const divDims = document.getElementById('div-dims');
            const divQtd = document.getElementById('div-qtd');
            const espSelect = document.getElementById('prod-espessura');
            indiceMedidaPadrao = 0;
            
            if (CONFIG_FABRICA[cat]) {
                const espessuras = CONFIG_FABRICA[cat].espessuras;
                espSelect.innerHTML = espessuras.map(e => `<option value="${e}">${e}</option>`).join('');
                divDims.style.display = 'block';
                divQtd.style.display = 'none';
                if (materialStatus === "Novo") aplicarMedidasAutomaticas();
            } else if (cat !== "") {
                espSelect.innerHTML = '<option value="outra">Outra</option>';
                divDims.style.display = 'none';
                divQtd.style.display = 'block';
            }
            atualizarPlanoCorte();
        };

        // Preenche medidas com base no padrão de fábrica da categoria
        const aplicarMedidasAutomaticas = () => {
            const cat = document.getElementById('prod-cat').value.toLowerCase();
            if (CONFIG_FABRICA[cat]) {
                const medidas = CONFIG_FABRICA[cat].medidas;
                const medida = medidas[indiceMedidaPadrao];
                document.getElementById('prod-dim-w').value = medida.w;
                document.getElementById('prod-dim-h').value = medida.h;
                atualizarPlanoCorte();
            }
        };

        // Navega entre as opções de medidas padrão (Ex: Chapa de 2, 3 ou 6 metros)
        window.alternarMedidaPadrao = () => {
            const cat = document.getElementById('prod-cat').value.toLowerCase();
            if (CONFIG_FABRICA[cat]) {
                const lista = CONFIG_FABRICA[cat].medidas;
                indiceMedidaPadrao = (indiceMedidaPadrao + 1) % lista.length;
                aplicarMedidasAutomaticas();
            }
        };

        // LÓGICA DE ATUALIZAÇÃO DA REFERÊNCIA VISUAL (Regra da Peça sempre Horizontal)
        window.atualizarPlanoCorte = () => {
            const wReal = parseFloat(document.getElementById('prod-dim-w').value) || 0;
            const hReal = parseFloat(document.getElementById('prod-dim-h').value) || 0;
            const fill = document.getElementById('corte-fill');
            const area = document.getElementById('div-visual-corte');
            const labelMaior = document.getElementById('txt-cota-maior');
            const labelMenor = document.getElementById('txt-cota-menor');
            
            if (wReal > 0 && hReal > 0) {
                area.style.display = 'flex';

                // REGRA: Maior medida na horizontal, menor na vertical
                const maior = Math.max(wReal, hReal);
                const menor = Math.min(wReal, hReal);

                const CONTAINER_MAX = 150; 
                let ratio = menor / maior; // Proporção da altura em relação à largura (sempre horizontal)

                // A largura será sempre o máximo do container
                let finalW = CONTAINER_MAX;
                let finalH = CONTAINER_MAX * ratio;

                // Aplica dimensões no visual
                fill.style.width = finalW + 'px';
                fill.style.height = finalH + 'px';
                
                // Texto de conferência mostra a entrada real do usuário
                fill.innerText = `${wReal} x ${hReal}`;
                
                // Cotas técnicas baseadas na regra visual
                labelMaior.innerText = maior + 'cm';
                labelMenor.innerText = menor + 'cm';
            } else {
                area.style.display = 'none';
            }
        };

        // Funções para troca dinâmica de Select por Input de Texto (Novo Item)
        window.ativarNovaCategoria = () => {
            const container = document.getElementById('cat-container');
            isNewCategory = true;
            document.getElementById('label-cat').innerText = "Nova Matéria Prima";
            const btn = document.getElementById('btn-toggle-cat');
            btn.innerHTML = '×'; btn.onclick = resetarCategoriaField;
            container.innerHTML = `<input type="text" id="prod-cat-new" placeholder="Nome da Matéria Prima..." autofocus>`;
        };
        window.resetarCategoriaField = () => {
            isNewCategory = false;
            document.getElementById('label-cat').innerText = "Matéria Prima";
            const btn = document.getElementById('btn-toggle-cat');
            btn.innerText = "+"; btn.onclick = ativarNovaCategoria;
            document.getElementById('cat-container').innerHTML = `<select id="prod-cat" onchange="handleCategoryChange()"><option value="">Selecione...</option><option value="acm">ACM</option><option value="pvc">PVC</option><option value="ps">PS</option><option value="acrilico">Acrílico</option><option value="mdf">MDF</option><option value="galvanizada">Galvanizada</option><option value="policarbonato">Policarbonato</option><option value="outros">Outros</option></select>`;
        };

        window.ativarNovaEspessura = () => {
            document.getElementById('label-espessura').innerText = "Nova Espessura";
            const b = document.getElementById('btn-toggle-esp');
            b.innerHTML = '×'; b.onclick = resetarEspessuraField;
            document.getElementById('esp-container').innerHTML = `<input type="text" id="prod-esp-new" placeholder="Ex: 15mm" autofocus>`;
        };
        window.resetarEspessuraField = () => {
            document.getElementById('label-espessura').innerText = "Espessura";
            const b = document.getElementById('btn-toggle-esp');
            b.innerText = "+"; b.onclick = ativarNovaEspessura;
            document.getElementById('esp-container').innerHTML = `<select id="prod-espessura"><option value="">Selecione Matéria...</option></select>`;
            handleCategoryChange();
        };

        window.ativarNovaCor = () => {
            document.getElementById('label-cor').innerText = "Nova Cor";
            const b = document.getElementById('btn-toggle-cor');
            b.innerHTML = '×'; b.onclick = resetarCorField;
            document.getElementById('cor-container').innerHTML = `<input type="text" id="prod-cor-new" placeholder="Ex: Prata" autofocus>`;
        };
        window.resetarCorField = () => {
            document.getElementById('label-cor').innerText = "Cor";
            const b = document.getElementById('btn-toggle-cor');
            b.innerText = "+"; b.onclick = ativarNovaCor;
            document.getElementById('cor-container').innerHTML = `<select id="prod-cor"><option value="">Selecione...</option><option value="preto">Preto</option><option value="branco">Branco</option><option value="azul">Azul</option><option value="vermelho">Vermelho</option></select>`;
        };

        // Simula o salvamento dos dados no sistema
        window.salvarProduto = () => {
            const cat = isNewCategory ? document.getElementById('prod-cat-new').value : document.getElementById('prod-cat').value;
            const log = document.getElementById('log-area');
            if (!cat) { log.style.color = "#ff4444"; log.innerText = "Matéria Prima obrigatória!"; return; }
            log.style.color = "#4ade80";
            log.innerText = `Sucesso: Material salvo!`;
            setTimeout(() => { fecharModal('modal-prod'); log.innerText = ""; }, 1500);
        };
    </script>
</body>
</html>
