<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estoque & Corte - Artesynal</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --bg-dark: #1a1a1a; --card-bg: #2c3e50; --purple: #9b59b6; --orange: #e67e22; --red: #e74c3c; --green: #2ecc71; --blue: #3498db; --text: #eee; }
        body { font-family: 'Mitra LT', 'Montserrat', sans-serif; margin: 0; padding: 0; background-color: var(--bg-dark); color: var(--text); overflow-x: hidden; }

        /* --- TELA SELE√á√ÉO --- */
        #sector-screen { display: flex; height: 100vh; width: 100%; align-items: center; justify-content: center; gap: 30px; position: fixed; top: 0; left: 0; background: var(--bg-dark); z-index: 1000; flex-wrap: wrap; padding: 20px;}
        .sector-btn { width: 300px; height: 200px; border-radius: 15px; border: none; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; font-family: inherit; transition: transform 0.2s; text-decoration: none; color: white;}
        .sector-btn:hover { transform: scale(1.05); }
        .sec-imp { background: linear-gradient(135deg, #8e44ad, #c0392b); box-shadow: 0 0 20px rgba(142, 68, 173, 0.5); }
        .sec-serr { background: linear-gradient(135deg, #e67e22, #f1c40f); box-shadow: 0 0 20px rgba(230, 126, 34, 0.5); color: #222; }
        .sec-icon { font-size: 50px; margin-bottom: 10px; }
        .sec-title { font-size: 24px; font-weight: 900; text-transform: uppercase; }

        /* --- LAYOUT PRINCIPAL --- */
        #main-layout { display: none; padding: 20px; transition: 0.3s; margin-right: 0; }
        .header-est { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #555; padding-bottom: 15px; }
        h1 { margin: 0; font-size: 24px; text-transform: uppercase; }
        .btn-voltar { cursor: pointer; color: white; background: #555; padding: 8px 15px; border-radius: 5px; font-size: 12px; font-weight: bold; border:none; font-family: inherit;}

        .filter-bar { display: flex; gap: 10px; margin-bottom: 20px; background: #333; padding: 10px; border-radius: 8px; flex-wrap: wrap;}
        .search-input, .cat-select { flex: 1; padding: 10px; border-radius: 5px; border: none; background: #444; color: white; min-width: 150px; font-family: inherit;}
        
        /* --- KANBAN SYSTEM --- */
        .kanban-container { display: flex; gap: 20px; overflow-x: auto; padding-bottom: 20px; align-items: flex-start; }
        .kanban-col { background: #222; border-radius: 10px; padding: 10px; min-width: 320px; width: 320px; border: 1px solid #444; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .kanban-header { padding: 12px; font-weight: 900; font-size: 13px; border-radius: 6px; margin-bottom: 15px; color: white; text-transform: uppercase; text-align: center; }
        
        .hdr-adesivos { background: var(--purple); }
        .hdr-lonas { background: #34495e; }
        .hdr-recorte { background: var(--blue); }
        .hdr-acm { background: var(--orange); color: #000; }
        .hdr-pvc { background: #d35400; }
        .hdr-acrilico { background: #f39c12; color: #000; }
        .hdr-outros { background: #444; }

        .grid-est { display: flex; flex-direction: column; gap: 15px; min-height: 100px; }

        /* CARDS */
        .card-prod { background: var(--card-bg); border-radius: 10px; padding: 15px; position: relative; border-left: 5px solid var(--purple); box-shadow: 0 4px 10px rgba(0,0,0,0.3); transition: margin 0.2s, border 0.2s; }
        .card-prod.serralheria { border-left-color: var(--orange); cursor: grab; }
        .card-prod.coupled { margin-top: -10px !important; border-top: 3px solid var(--green) !important; z-index: 10; box-shadow: 0 -5px 10px rgba(0,0,0,0.5); }
        .card-prod.dragging { opacity: 0.5; }

        .prod-header { display: flex; justify-content: space-between; margin-bottom: 5px; }
        .prod-cat { background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px; font-size: 10px; color: #ccc; }
        .prod-name { font-size: 18px; font-weight: 800; color: white; margin-bottom: 5px; }
        .prod-dims { font-size: 14px; color: var(--orange); font-weight: bold; margin-bottom: 10px; display: block; }

        .btn-open-peca { background: var(--blue); color: white; width: 100%; border: none; padding: 10px; border-radius: 5px; font-weight: 900; cursor: pointer; font-family: inherit; }

        /* MODAIS */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 2000; justify-content: center; align-items: center; padding: 20px; }
        .modal-box { background: #333; padding: 25px; border-radius: 10px; width: 100%; max-width: 500px; position: relative; border: 1px solid #444; }
        .form-row { display: flex; gap: 10px; margin-bottom: 15px; }
        label { display: block; font-size: 11px; color: #ccc; margin-bottom: 5px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 12px; background: #444; border: none; border-radius: 5px; color: white; box-sizing: border-box; font-family: inherit;}

        /* --- ETIQUETA PROFISSIONAL (10x3cm) --- */
        #etiqueta-print {
            display: none;
            width: 100mm;
            height: 30mm;
            background: #fff;
            color: #000;
            padding: 1mm;
            box-sizing: border-box;
            border: 0.5mm solid #000;
        }
        .label-grid { display: flex; width: 100%; height: 100%; gap: 1mm; }
        .qr-section { width: 28mm; height: 28mm; border: 0.3mm solid #999; display: flex; align-items: center; justify-content: center; flex-direction: column; box-sizing: border-box; }
        .qr-section canvas, .qr-section img { width: 23mm !important; height: 23mm !important; }
        .qr-label { font-size: 5pt; font-weight: 900; margin-top: 1px; }

        .info-section { flex: 1; display: grid; grid-template-rows: 1fr 1fr 1fr; gap: 0.5mm; }
        .row-grid { display: grid; gap: 0.5mm; }
        .box-info { border: 0.2mm solid #000; padding: 1mm 2mm; display: flex; align-items: center; overflow: hidden; background: #fff; }
        .txt-label { font-weight: 900; font-size: 6.5pt; margin-right: 1.5mm; white-space: nowrap; }
        .txt-value { font-weight: 700; font-size: 8.5pt; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; }

        .line-1 { grid-template-columns: 2fr 1fr; }
        .line-2 { grid-template-columns: 1fr; }
        .line-3 { grid-template-columns: 1.2fr 1fr; }

        @media print {
            body * { display: none !important; }
            #etiqueta-print, #etiqueta-print * { display: block !important; }
            #etiqueta-print { display: block !important; position: absolute; top: 0; left: 0; }
            .label-grid { display: flex !important; }
            .info-section { display: grid !important; }
            .row-grid { display: grid !important; }
            @page { size: 100mm 30mm; margin: 0; }
        }

        .fab-add { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; background: var(--green); color: white; border-radius: 50%; border: none; font-size: 30px; font-weight: bold; box-shadow: 0 4px 15px rgba(0,0,0,0.5); cursor: pointer; z-index: 100; }
    </style>
</head>
<body>

    <div id="sector-screen">
        <button class="sector-btn sec-imp" onclick="selecionarSetor('impressao')">
            <div class="sec-icon">üñ®Ô∏è</div>
            <div class="sec-title">Sala de Impress√£o</div>
            <span style="font-size:10px; color:white;">Adesivos, Lonas, Recorte</span>
        </button>
        <button class="sector-btn sec-serr" onclick="selecionarSetor('serralheria')">
            <div class="sec-icon">üõ†Ô∏è</div>
            <div class="sec-title">Serralheria</div>
            <span style="font-size:10px; color:black;">ACM, PVC, Acr√≠lico</span>
        </button>
        <div style="width:100%; text-align:center; margin-top: 20px;">
            <a href="#" id="link-voltar-setor" style="color:#aaa; text-decoration:none; font-weight:bold; padding: 10px;">‚¨Ö VOLTAR AO PAINEL</a>
        </div>
    </div>

    <div id="main-layout">
        <div class="header-est">
            <h1 id="page-title">Estoque</h1>
            <button class="btn-voltar" onclick="location.reload()">üîÑ TROCAR SETOR</button>
        </div>

        <div class="filter-bar">
            <input type="text" id="search-input" class="search-input" placeholder="Buscar material..." onkeyup="filtrarEstoque()">
            <select id="cat-filter" class="cat-select" onchange="filtrarEstoque()">
                <option value="Todos">Todas Categorias</option>
            </select>
        </div>

        <div id="kanban-imp" class="kanban-container" style="display: none;">
            <div class="kanban-col"><div class="kanban-header hdr-adesivos">Adesivos</div><div class="grid-est" id="grid-ADESIVO"></div></div>
            <div class="kanban-col"><div class="kanban-header hdr-lonas">Lonas</div><div class="grid-est" id="grid-LONA"></div></div>
            <div class="kanban-col"><div class="kanban-header hdr-recorte">Adesivos de Recorte</div><div class="grid-est" id="grid-RECORTE"></div></div>
            <div class="kanban-col"><div class="kanban-header hdr-outros">Outros</div><div class="grid-est" id="grid-OUTROS-IMP"></div></div>
        </div>

        <div id="kanban-serr" class="kanban-container" style="display: none;">
            <div class="kanban-col"><div class="kanban-header hdr-acm">Chapas ACM</div><div class="grid-est" id="grid-ACM"></div></div>
            <div class="kanban-col"><div class="kanban-header hdr-pvc">Chapas PVC</div><div class="grid-est" id="grid-PVC"></div></div>
            <div class="kanban-col"><div class="kanban-header hdr-acrilico">Acr√≠lico</div><div class="grid-est" id="grid-ACRILICO"></div></div>
            <div class="kanban-col"><div class="kanban-header hdr-outros">Outros</div><div class="grid-est" id="grid-OUTROS-SERR"></div></div>
        </div>
        
        <button class="fab-add" onclick="abrirModalProduto()">+</button>
    </div>

    <div id="modal-peca" class="modal-overlay">
        <div class="modal-box">
            <h2 id="m-nome" style="color:var(--orange); margin:0;">Pe√ßa</h2>
            <p id="m-dim" style="font-size:20px; font-weight:900; margin:10px 0;"></p>
            <div style="background:#222; padding:15px; border-radius:8px; margin:20px 0;">
                <label>REALIZAR CORTE (cm)</label>
                <div class="form-row">
                    <input type="number" id="corte-w" placeholder="L"><input type="number" id="corte-h" placeholder="A">
                    <button onclick="executarCorte()" style="background:var(--orange); color:white; border:none; padding:10px 20px; border-radius:5px; font-weight:bold; cursor:pointer;">CORTAR</button>
                </div>
            </div>
            <div style="display:flex; gap:10px;">
                <button onclick="abrirPainelEtiqueta()" style="flex:1; background:var(--blue); color:white; border:none; padding:12px; border-radius:5px; font-weight:bold; cursor:pointer;">ETIQUETA</button>
                <button onclick="deletarPeca()" style="background:var(--red); border:none; padding:12px; border-radius:5px; cursor:pointer;">üóëÔ∏è</button>
            </div>
            <button onclick="fecharModal('modal-peca')" style="width:100%; background:none; color:#666; border:none; margin-top:15px; cursor:pointer;">FECHAR</button>
        </div>
    </div>

    <div id="modal-etiqueta" class="modal-overlay">
        <div class="modal-box">
            <h3>Configurar Etiqueta</h3>
            <label>N¬∫ DA O.S.</label><input type="text" id="et-os" placeholder="0000">
            <label>LOCAL DE CORTE</label>
            <select id="et-local">
                <option value="Decorletras">Decorletras</option>
                <option value="MD Corte">MD Corte</option>
                <option value="W.A. Corte a Laser">W.A. Corte a Laser</option>
            </select>
            <label>N¬∫ DO CORTE</label><input type="number" id="et-num" value="1">
            <button onclick="imprimirEtiquetaFinal()" style="width:100%; background:var(--green); color:white; border:none; padding:15px; border-radius:5px; font-weight:900; margin-top:20px; cursor:pointer;">IMPRIMIR</button>
            <button onclick="fecharModal('modal-etiqueta')" style="width:100%; background:none; color:#666; border:none; margin-top:10px; cursor:pointer;">CANCELAR</button>
        </div>
    </div>

    <div id="modal-mov" class="modal-overlay">
        <div class="modal-box">
            <h2 style="margin-top:0;">Ajustar Estoque</h2>
            <input type="hidden" id="mov-id">
            <div style="display:flex; gap:10px; margin-bottom:15px;">
                <button style="flex:1; background:var(--green); color:white; padding:10px; border-radius:5px; border:none; cursor:pointer;" onclick="salvarMov('entrada')">ENTRADA (+)</button>
                <button style="flex:1; background:var(--red); color:white; padding:10px; border-radius:5px; border:none; cursor:pointer;" onclick="salvarMov('saida')">BAIXA (-)</button>
            </div>
            <input type="number" id="mov-qtd" placeholder="Quantidade">
            <button onclick="fecharModal('modal-mov')" style="width:100%; background:none; color:#666; border:none; margin-top:15px; cursor:pointer;">Cancelar</button>
        </div>
    </div>

    <div id="modal-prod" class="modal-overlay">
        <div class="modal-box">
            <h2 id="modal-title">Novo Material</h2>
            <label>NOME DO MATERIAL</label><input type="text" id="prod-nome">
            <div class="form-row" style="margin-top:15px;">
                <div style="flex:1;"><label>CATEGORIA</label><select id="prod-cat"></select></div>
                <div style="flex:1;" id="div-un"><label>UNIDADE</label><select id="prod-un"><option value="un">Unidade</option><option value="m">Metros</option><option value="m¬≤">m¬≤</option><option value="L">Litros</option></select></div>
            </div>
            <div id="div-dims" style="display:none; background:#222; padding:10px; border-radius:5px; margin-top:15px;">
                <label style="color:var(--orange);">DIMENS√ïES (cm)</label>
                <div class="form-row"><input type="number" id="prod-dim-w" placeholder="L"><input type="number" id="prod-dim-h" placeholder="A"></div>
            </div>
            <div id="div-qtd" style="margin-top:15px;">
                <div class="form-row">
                    <div style="flex:1;"><label>QTD ATUAL</label><input type="number" id="prod-qtd"></div>
                    <div style="flex:1;"><label>M√çNIMO</label><input type="number" id="prod-min"></div>
                </div>
            </div>
            <button style="width:100%; padding:15px; background:var(--green); color:white; border:none; border-radius:5px; font-weight:bold; margin-top:20px; cursor:pointer;" onclick="salvarProduto()">SALVAR</button>
            <button onclick="fecharModal('modal-prod')" style="width:100%; background:none; color:#666; border:none; margin-top:10px; cursor:pointer;">CANCELAR</button>
        </div>
    </div>

    <div id="etiqueta-print">
        <div class="label-grid">
            <div class="qr-section">
                <div id="p-qrcode"></div>
                <div class="qr-label">QR CODE</div>
            </div>
            <div class="info-section">
                <div class="row-grid line-1">
                    <div class="box-info"><span class="txt-value" id="p-nome">MATERIAL</span></div>
                    <div class="box-info"><span class="txt-label">OS:</span><span class="txt-value" id="p-os">0000</span></div>
                </div>
                <div class="row-grid line-2">
                    <div class="box-info"><span class="txt-label">TAM:</span><span class="txt-value" id="p-dim">000 x 000 cm</span></div>
                </div>
                <div class="row-grid line-3">
                    <div class="box-info"><span class="txt-label">LOCAL:</span><span class="txt-value" id="p-local">---</span></div>
                    <div class="box-info"><span class="txt-label">CORTE:</span><span class="txt-value" id="p-num">01</span></div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { db, ROTAS } from "./config.js";
        import { collection, addDoc, getDocs, doc, updateDoc, deleteDoc, query, where, onSnapshot, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        document.getElementById('link-voltar-setor').href = ROTAS.painel;
        let setorAtual = '', produtos = [], pecaSelecionada = null;

        const config = {
            'impressao': { color: 'var(--purple)', cats: ['Adesivo','Lona','Adesivo de Recorte','Tinta','Outros'], isSerr: false },
            'serralheria': { color: 'var(--orange)', cats: ['ACM','PVC','Acr√≠lico','Outros'], isSerr: true }
        };

        window.selecionarSetor = (setor) => {
            setorAtual = setor;
            document.getElementById('sector-screen').style.display = 'none';
            document.getElementById('main-layout').style.display = 'block';
            document.getElementById('page-title').innerText = setor === 'impressao' ? 'Sala de Impress√£o' : 'Serralheria';
            document.getElementById('page-title').style.color = config[setor].color;

            document.getElementById('kanban-imp').style.display = !config[setor].isSerr ? 'flex' : 'none';
            document.getElementById('kanban-serr').style.display = config[setor].isSerr ? 'flex' : 'none';

            const sel = document.getElementById('cat-filter'), selModal = document.getElementById('prod-cat');
            sel.innerHTML = '<option value="Todos">Todas</option>'; selModal.innerHTML = '';
            config[setor].cats.forEach(c => { sel.innerHTML += `<option value="${c}">${c}</option>`; selModal.innerHTML += `<option value="${c}">${c}</option>`; });

            ouvirEstoque();
        };

        function ouvirEstoque() {
            const q = query(collection(db, "estoque"), where("setor", "==", setorAtual));
            onSnapshot(q, (snapshot) => { 
                produtos = []; 
                snapshot.forEach(d => { let item = d.data(); item.id = d.id; produtos.push(item); }); 
                renderizar(); 
            });
        }

        function renderizar() {
            document.querySelectorAll('.grid-est').forEach(g => g.innerHTML = '');
            const isSerr = config[setorAtual].isSerr;

            produtos.forEach(p => {
                const card = document.createElement('div');
                const catLimpa = p.categoria.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace("ADESIVO DE RECORTE", "RECORTE");
                
                if (isSerr) {
                    const gridID = document.getElementById(`grid-${catLimpa}`) ? catLimpa : 'OUTROS-SERR';
                    const grid = document.getElementById(`grid-${gridID}`);
                    card.className = `card-prod serralheria ${p.coupledTo ? 'coupled' : ''}`;
                    card.draggable = true; card.id = p.id;
                    card.innerHTML = `<div class="prod-header"><span class="prod-cat">${p.categoria}</span></div><div class="prod-name">${p.nome}</div><span class="prod-dims">${p.dimW} x ${p.dimH} cm</span><button class="btn-open-peca" onclick="abrirPeca('${p.id}')">ABRIR</button>`;
                    
                    card.addEventListener('dragstart', (e) => { e.dataTransfer.setData('pecaID', p.id); card.classList.add('dragging'); });
                    card.addEventListener('dragover', (e) => e.preventDefault());
                    card.addEventListener('drop', async (e) => {
                        e.preventDefault();
                        const idArr = e.dataTransfer.getData('pecaID');
                        if(idArr && idArr !== p.id) await updateDoc(doc(db, "estoque", idArr), { coupledTo: p.id });
                    });
                    if(grid) grid.appendChild(card);
                } else {
                    const gridID = document.getElementById(`grid-${catLimpa}`) ? catLimpa : 'OUTROS-IMP';
                    const grid = document.getElementById(`grid-${gridID}`);
                    card.className = `card-prod ${p.qtd <= p.minimo ? 'low-stock' : ''}`;
                    card.innerHTML = `<div class="prod-header"><span class="prod-cat">${p.categoria}</span></div><div class="prod-name">${p.nome}</div><div style="background:#222; padding:8px; border-radius:5px; display:flex; justify-content:space-between; align-items:center;"><div><b>${p.qtd}</b> <small>${p.unidade}</small></div><button style="background:var(--blue); color:white; border:none; padding:5px 10px; border-radius:4px; cursor:pointer;" onclick="abrirMov('${p.id}')">AJUSTAR</button></div>`;
                    if(grid) grid.appendChild(card);
                }
            });
        }

        window.abrirPeca = (id) => { 
            pecaSelecionada = produtos.find(x => x.id === id); 
            document.getElementById('m-nome').innerText = pecaSelecionada.nome; 
            document.getElementById('m-dim').innerText = `${pecaSelecionada.dimW}x${pecaSelecionada.dimH} cm`; 
            document.getElementById('modal-peca').style.display = 'flex'; 
        };

        window.executarCorte = async () => {
            const cw = parseFloat(document.getElementById('corte-w').value), ch = parseFloat(document.getElementById('corte-h').value);
            if(!cw || !ch || cw > pecaSelecionada.dimW || ch > pecaSelecionada.dimH) { alert("Medidas inv√°lidas!"); return; }
            if(confirm("Confirmar corte?")){
                const sW = pecaSelecionada.dimW - cw, sH = pecaSelecionada.dimH - ch;
                await updateDoc(doc(db, "estoque", pecaSelecionada.id), { dimW: sW > 0 ? sW : pecaSelecionada.dimW, dimH: sH > 0 ? sH : pecaSelecionada.dimH, nome: pecaSelecionada.nome + " (Sobra)" });
                await addDoc(collection(db, "estoque"), { setor: 'serralheria', nome: pecaSelecionada.nome + " (Corte)", categoria: pecaSelecionada.categoria, dimW: cw, dimH: ch, qtd: 1, unidade: 'p√ß' });
                fecharModal('modal-peca');
            }
        };

        window.imprimirEtiquetaFinal = () => {
            const os = document.getElementById('et-os').value, local = document.getElementById('et-local').value, num = document.getElementById('et-num').value;
            document.getElementById('p-nome').innerText = pecaSelecionada.nome.toUpperCase();
            document.getElementById('p-dim').innerText = `${pecaSelecionada.dimW} x ${pecaSelecionada.dimH} cm`;
            document.getElementById('p-os').innerText = os || '----';
            document.getElementById('p-local').innerText = local;
            document.getElementById('p-num').innerText = num.toString().padStart(2, '0');
            const qrCont = document.getElementById('p-qrcode'); qrCont.innerHTML = '';
            new QRCode(qrCont, { text: window.location.href.split('?')[0] + "?id=" + pecaSelecionada.id, width: 100, height: 100 });
            setTimeout(() => { window.print(); }, 800);
        };

        window.salvarProduto = async () => {
            const isSerr = config[setorAtual].isSerr;
            const dados = { setor: setorAtual, nome: document.getElementById('prod-nome').value, categoria: document.getElementById('prod-cat').value };
            if(isSerr) {
                dados.dimW = parseFloat(document.getElementById('prod-dim-w').value);
                dados.dimH = parseFloat(document.getElementById('prod-dim-h').value);
                dados.qtd = 1; dados.unidade = 'p√ß';
            } else {
                dados.qtd = parseFloat(document.getElementById('prod-qtd').value);
                dados.minimo = parseFloat(document.getElementById('prod-min').value);
                dados.unidade = document.getElementById('prod-un').value;
            }
            await addDoc(collection(db, "estoque"), dados);
            fecharModal('modal-prod');
        };

        window.deletarPeca = async () => { if(confirm("Excluir pe√ßa?")) { await deleteDoc(doc(db, "estoque", pecaSelecionada.id)); fecharModal('modal-peca'); } };
        window.abrirMov = (id) => { document.getElementById('mov-id').value = id; document.getElementById('modal-mov').style.display = 'flex'; };
        window.salvarMov = async (tipo) => {
            const id = document.getElementById('mov-id').value, qtdAlt = parseFloat(document.getElementById('mov-qtd').value);
            const p = produtos.find(x => x.id === id);
            let nova = tipo === 'entrada' ? p.qtd + qtdAlt : p.qtd - qtdAlt;
            await updateDoc(doc(db, "estoque", id), { qtd: nova });
            fecharModal('modal-mov');
        };

        window.fecharModal = (id) => document.getElementById(id).style.display = 'none';
        window.abrirPainelEtiqueta = () => document.getElementById('modal-etiqueta').style.display = 'flex';
        window.filtrarEstoque = () => {};
    </script>
</body>
</html>
